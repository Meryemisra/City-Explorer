<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Şehir Detayları - City Explorer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .city-header {
            background-color: #f8f9fa;
            padding: 2rem 0;
            margin-bottom: 2rem;
        }
        .section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .section h2 {
            color: #333;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #007bff;
        }
        .places-list {
            list-style: none;
            padding: 0;
        }
        .places-list li {
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }
        .places-list li:last-child {
            border-bottom: none;
        }
        /* Container genişliği için yeni stil */
        .container {
            max-width: 95%;
            padding: 0 15px;
        }
        /* Yorumlar bölümü için yeni stiller */
        #commentsList {
            max-height: 600px;
            overflow-y: auto;
            padding-right: 10px;
        }
        #commentsList::-webkit-scrollbar {
            width: 8px;
        }
        #commentsList::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        #commentsList::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }
        #commentsList::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        .comment-card {
            margin-bottom: 1rem;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            background-color: #f8f9fa;
        }
        .comment-card .card-body {
            padding: 1rem;
        }
        .comment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #e0e0e0;
        }
        .comment-text {
            margin: 0;
            line-height: 1.5;
        }
        #commentForm {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid #e0e0e0;
        }
        #commentText {
            min-height: 100px;
            resize: vertical;
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="index.html">City Explorer</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Ana Sayfa</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="city-header">
        <div class="container">
            <h1 id="cityName" class="text-center"></h1>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <!-- Sol taraf - Yorumlar -->
            <div class="col-md-8">
                <div class="section">
                    <h2>Yorumlar</h2>
                    <div id="commentsContainer">
                        <div id="commentsList" class="mb-4"></div>
                        <form id="commentForm" class="mt-4">
                            <div class="mb-3">
                                <label for="commentText" class="form-label">Yorumunuz</label>
                                <textarea class="form-control" id="commentText" rows="3" required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Yorum Yap</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Sağ taraf - Şehir Bilgileri -->
            <div class="col-md-4">
                <div class="section">
                    <h2>Şehir Hakkında</h2>
                    <p id="cityInfo"></p>
                </div>

                <div class="section">
                    <h2>Konum</h2>
                    <p id="cityLocation"></p>
                </div>
            
                <div class="section">
                    <h2>Nüfus</h2>
                    <p id="cityPopulation"></p>
                </div>

                <div class="section">
                    <h2>Gezilecek Yerler</h2>
                    <ul class="places-list" id="placesToVisit"></ul>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const cityData = {
            'istanbul': {
                info: 'İstanbul, Türkiye\'nin en kalabalık, ekonomik, tarihi ve sosyo-kültürel açıdan en önemli şehridir. Şehir, iktisadi büyüklük açısından dünyada 34. sırada yer alır. Nüfuslarına göre şehirler listesinde belediye sınırları göz önüne alınarak yapılan sıralamaya göre Avrupa\'da birinci, dünyada ise altıncı sırada yer almaktadır.',
                location: 'İstanbul, Türkiye\'nin kuzeybatısında, Marmara Bölgesi\'nde yer alır. Boğaz ile iki kıtaya yayılan şehir, Karadeniz ve Marmara Denizi arasında yer alır.',
                population: '15.5 milyon (2023)',
                places: [
                    'Ayasofya',
                    'Topkapı Sarayı',
                    'Sultanahmet Camii',
                    'Galata Kulesi',
                    'Kapalıçarşı',
                    'Dolmabahçe Sarayı',
                    'Boğaz Köprüsü',
                    'Taksim Meydanı'
                ]
            },
            'ankara': {
                info: 'Ankara, Türkiye\'nin başkenti ve en kalabalık ikinci şehridir. Nüfusu 2023 yılı itibarıyla 5.7 milyondur. Bu nüfus; 25 ilçe ve bu ilçelere bağlı 1425 mahallede yaşamaktadır.',
                location: 'Ankara, Türkiye\'nin merkezi kesiminde, İç Anadolu Bölgesi\'nde yer alır. Denizden yüksekliği 938 metre olan şehir, geniş bir ova üzerinde kurulmuştur.',
                population: '5.7 milyon (2023)',
                places: [
                    'Anıtkabir',
                    'Kızılay Meydanı',
                    'Ankara Kalesi',
                    'Etnografya Müzesi',
                    'Atatürk Orman Çiftliği',
                    'Kuğulu Park',
                    'Anadolu Medeniyetleri Müzesi',
                    'Gençlik Parkı'
                ]
            },
            'izmir': {
                info: 'İzmir, Türkiye\'nin üçüncü büyük şehri ve en önemli liman kentlerinden biridir. Tarihi boyunca birçok medeniyete ev sahipliği yapmış, önemli bir ticaret ve kültür merkezi olmuştur.',
                location: 'İzmir, Türkiye\'nin batısında, Ege Bölgesi\'nde yer alır. İzmir Körfezi\'nin etrafında kurulmuş olan şehir, Ege Denizi\'ne kıyısı olan önemli bir liman kentidir.',
                population: '4.4 milyon (2023)',
                places: [
                    'Kemeraltı Çarşısı',
                    'Saat Kulesi',
                    'Kordon',
                    'Efes Antik Kenti',
                    'Bergama Antik Kenti',
                    'Çeşme',
                    'Alaçatı',
                    'Foça'
                ]
            },
            'bursa': {
                info: 'Bursa, Türkiye\'nin dördüncü büyük şehri ve önemli bir sanayi, ticaret ve turizm merkezidir. Osmanlı İmparatorluğu\'nun ilk başkenti olması nedeniyle "Tarihi Başkent" olarak da anılır.',
                location: 'Bursa, Türkiye\'nin kuzeybatısında, Marmara Bölgesi\'nde yer alır. Uludağ\'ın eteklerinde kurulmuş olan şehir, verimli topraklara sahiptir.',
                population: '3.1 milyon (2023)',
                places: [
                    'Uludağ',
                    'Ulu Camii',
                    'Yeşil Türbe',
                    'Koza Han',
                    'İznik Gölü',
                    'Cumalıkızık',
                    'Tophane',
                    'İnkaya Çınarı'
                ]
            },
            'antalya': {
                info: 'Antalya, Türkiye\'nin önemli turizm merkezlerinden biridir. Akdeniz\'in en güzel kıyılarına sahip olan şehir, tarihi ve doğal güzellikleriyle ünlüdür.',
                location: 'Antalya, Türkiye\'nin güneyinde, Akdeniz Bölgesi\'nde yer alır. Toros Dağları\'nın eteklerinde, Akdeniz kıyısında kurulmuştur.',
                population: '2.6 milyon (2023)',
                places: [
                    'Kaleiçi',
                    'Düden Şelalesi',
                    'Konyaaltı Plajı',
                    'Perge Antik Kenti',
                    'Aspendos',
                    'Side',
                    'Olimpos',
                    'Termessos'
                ]
            },
            'adana': {
                info: 'Adana, Türkiye\'nin önemli tarım ve sanayi merkezlerinden biridir. Çukurova\'nın merkezi olan şehir, verimli toprakları ve sıcak iklimiyle tanınır.',
                location: 'Adana, Türkiye\'nin güneyinde, Akdeniz Bölgesi\'nde yer alır. Seyhan ve Ceyhan nehirlerinin oluşturduğu Çukurova\'da kurulmuştur.',
                population: '2.2 milyon (2023)',
                places: [
                    'Taşköprü',
                    'Büyük Saat Kulesi',
                    'Seyhan Barajı',
                    'Kapıkaya Kanyonu',
                    'Yılankale',
                    'Anavarza Antik Kenti',
                    'Varda Köprüsü',
                    'Çukurova Üniversitesi'
                ]
            },
            'konya': {
                info: 'Konya, Türkiye\'nin en eski yerleşim yerlerinden biridir. Mevlana\'nın şehri olarak bilinen Konya, önemli bir kültür ve turizm merkezidir.',
                location: 'Konya, Türkiye\'nin güneyinde, İç Anadolu Bölgesi\'nde yer alır. Geniş bir ova üzerinde kurulmuş olan şehir, Türkiye\'nin en büyük yüzölçümüne sahip ilidir.',
                population: '2.3 milyon (2023)',
                places: [
                    'Mevlana Müzesi',
                    'Alaaddin Tepesi',
                    'İnce Minare',
                    'Sille',
                    'Çatalhöyük',
                    'Karatay Medresesi',
                    'Selimiye Camii',
                    'Tropikal Kelebek Bahçesi'
                ]
            },
            'trabzon': {
                info: 'Trabzon, Karadeniz\'in en önemli şehirlerinden biridir. Tarihi İpek Yolu üzerinde yer alan şehir, doğal güzellikleri ve tarihi yapılarıyla ünlüdür.',
                location: 'Trabzon, Türkiye\'nin kuzeydoğusunda, Karadeniz Bölgesi\'nde yer alır. Karadeniz kıyısında, dağların denize paralel uzandığı bir bölgede kurulmuştur.',
                population: '800 bin (2023)',
                places: [
                    'Ayasofya Müzesi',
                    'Sümela Manastırı',
                    'Uzungöl',
                    'Atatürk Köşkü',
                    'Boztepe',
                    'Çal Mağarası',
                    'Zağnos Vadisi',
                    'Yayla Şenlikleri'
                ]
            },
            'gaziantep': {
                info: 'Gaziantep, Türkiye\'nin önemli sanayi ve ticaret merkezlerinden biridir. Bakırcılık, sedefçilik ve baklavasıyla ünlü olan şehir, zengin bir mutfak kültürüne sahiptir.',
                location: 'Gaziantep, Türkiye\'nin güneydoğusunda, Güneydoğu Anadolu Bölgesi\'nde yer alır. Fırat ve Dicle nehirleri arasında, verimli bir ovada kurulmuştur.',
                population: '2.1 milyon (2023)',
                places: [
                    'Gaziantep Kalesi',
                    'Zeugma Mozaik Müzesi',
                    'Bakırcılar Çarşısı',
                    'Emine Göğüş Mutfak Müzesi',
                    'Kurtuluş Cami',
                    'Gaziantep Hayvanat Bahçesi',
                    'Rumkale',
                    'Dülük Antik Kenti'
                ]
            },
            'kayseri': {
                info: 'Kayseri, Türkiye\'nin önemli sanayi ve ticaret merkezlerinden biridir. Erciyes Dağı\'nın eteklerinde kurulmuş olan şehir, tarihi ve doğal güzellikleriyle tanınır.',
                location: 'Kayseri, Türkiye\'nin merkezinde, İç Anadolu Bölgesi\'nde yer alır. Erciyes Dağı\'nın eteklerinde, geniş bir ovada kurulmuştur.',
                population: '1.4 milyon (2023)',
                places: [
                    'Erciyes Dağı',
                    'Kayseri Kalesi',
                    'Sultan Sazlığı',
                    'Kapuzbaşı Şelaleleri',
                    'Gevher Nesibe Şifahanesi',
                    'Kültepe',
                    'Soğanlı Vadisi',
                    'Koramaz Vadisi'
                ]
            }
        };

        // Yorumları localStorage'dan al
        function getComments(cityName) {
            const comments = JSON.parse(localStorage.getItem(`comments_${cityName}`) || '[]');
            return comments;
        }

        // Yorumları göster
        function displayComments(cityName) {
            const comments = getComments(cityName);
            const commentsList = document.getElementById('commentsList');
            commentsList.innerHTML = '';

            if (comments.length === 0) {
                commentsList.innerHTML = '<p class="text-muted">Henüz yorum yapılmamış. İlk yorumu siz yapın!</p>';
                return;
            }

            comments.forEach(comment => {
                const commentElement = document.createElement('div');
                commentElement.className = 'comment-card';
                commentElement.innerHTML = `
                    <div class="card-body">
                        <div class="comment-header">
                            <h6 class="card-subtitle mb-0 text-primary">${comment.username || 'Misafir'}</h6>
                            <small class="text-muted">${new Date(comment.date).toLocaleDateString('tr-TR')}</small>
                        </div>
                        <p class="comment-text">${comment.text}</p>
                    </div>
                `;
                commentsList.appendChild(commentElement);
            });
        }

        // Yorum ekle
        function addComment(cityName, text) {
            const comments = getComments(cityName);
            const username = localStorage.getItem('username') || 'Misafir';
            
            comments.unshift({
                text,
                username,
                date: new Date().toISOString()
            });

            localStorage.setItem(`comments_${cityName}`, JSON.stringify(comments));
            displayComments(cityName);
        }

        // Yorum formunu dinle
        document.getElementById('commentForm').addEventListener('submit', (e) => {
            e.preventDefault();
            const commentText = document.getElementById('commentText').value;
            if (commentText.trim()) {
                addComment(cityName.toLowerCase(), commentText);
                document.getElementById('commentText').value = '';
            }
        });

        // URL'den şehir adını al
        const urlParams = new URLSearchParams(window.location.search);
        const cityName = urlParams.get('name');

        // Şehir verilerini göster
        if (cityName && cityData[cityName.toLowerCase()]) {
            const data = cityData[cityName.toLowerCase()];
            document.getElementById('cityName').textContent = cityName;
            document.getElementById('cityInfo').textContent = data.info;
            document.getElementById('cityLocation').textContent = data.location;
            document.getElementById('cityPopulation').textContent = data.population;
            
            const placesList = document.getElementById('placesToVisit');
            data.places.forEach(place => {
                const li = document.createElement('li');
                li.textContent = place;
                placesList.appendChild(li);
            });

            // Yorumları göster
            displayComments(cityName.toLowerCase());
        } else {
            document.getElementById('cityName').textContent = 'Şehir Bulunamadı';
        }
    </script>
</body>
</html> 